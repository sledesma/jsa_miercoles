<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			const API_ENDPOINT = "https://jsonplaceholder.typicode.com/posts";

			/**
			 * Clase para UN recurso
			 */
			/*
			class Post {
				constructor(userId, id, title, body) {
					this.__userId__ = userId;
					this.__id__ = id;
					this.__title__ = title;
					this.__body__ = body;
				}

				get UserId() {
					return this.__userId__;
				}

				get Id() {
					return this.__id__;
				}

				get Title() {
					return this.__title__;
				}

				get Body() {
					return this.__body__;
				}
			}
			*/
			/*
			class Post {
				constructor({ userId, id, title, body }) {
					Object.defineProperties(this, {
						UserId: {
							configurable: false,
							value: userId
						},
						Id: {
							configurable: false,
							value: id
						},
						Title: {
							configurable: false,
							value: title
						},
						Body: {
							configurable: false,
							value: body
						}
					})
				}
			}
			*/
			function Post({ userId, id, title, body }) {
				Object.defineProperties(this, {
					UserId: {
						configurable: false,
						value: userId,
					},
					Id: {
						configurable: false,
						value: id,
					},
					Title: {
						configurable: false,
						value: title,
					},
					Body: {
						configurable: false,
						value: body,
					},
				});
			}

			class Lista extends EventTarget {
				constructor() {
					super();
					this.length = 0;
				}

				push(item) {
					const nombre = this.length;
					Object.defineProperty(this, nombre, {
						enumerable: true,
						configurable: true,
						writable: true,
						value: item
					});
					this.length++;
				}
			}

			/**
			 * Clase para la Coleccion de recursos
			 */
			// Opcion 1
			/*
			class PostList extends Lista {
				constructor() {
					super();
				}
			}
			*/

			// Opcion 2
			class PostList extends Array {
				constructor() {
					super();

					this.eventHandler = new EventTarget();
				}
			}


			fetch(API_ENDPOINT)
				.then((res) => res.json())
				.then((datos) => {
					const p = new Post({
						id: 1,
						userId: 1,
						title: "Titulo",
						body: "Cuerpo",
					});
					p.UserId = 2;
					console.log(p);

					

				});
		</script>
	</body>
</html>
